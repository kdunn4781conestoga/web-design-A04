<!-- FILE          : hiloStart.html -->
<!-- PROJECT       : Assignment 4 -->
<!-- PROGRAMMERS   : Kyle Dunn, David Czachor -->
<!-- FIRST VERSION : 2022-10-17 -->
<!-- PURPOSE       :  This page validates user input for the player name 
                      and max number-->


<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Hi-Lo Game</title>

        <style>
            .errorMsg {
                color: red;
            }
        </style>

        <script>
            /**
             * Function   : showErrorMsg()
             * Purpose    : This function quickly shows and displays an error message
             *              for the element matching the id
             * Parameters : elementId : the element id to display the error
             *              message        : the message to display
             */
            function showErrorMsg(elementId, message) {
                var errorElement = document.getElementById(elementId);
                errorElement.innerHTML = message;
                errorElement.style.display = 'inline-block';
            }

            /**
             * Function   : hideErrorMsgs()
             * Purpose    : This function hides all elements with classname 'errorMsg'
             */
            function hideErrorMsgs() {
                var errorMsgs = document.getElementsByClassName('errorMsg');
                for (var i = 0; i < errorMsgs.length; i++) {
                    errorMsgs[i].style.display = 'none';
                }
            }

            // Function   : validateInput()
            // Purpose    : This function validates the information depending on the
            //              section it is on
            // Parameters : event : used for preventing the form from submitting
            function validateInput(event) {
                hideErrorMsgs();

                var submitForm = true;
                var playerNameInput;

                // Check username input
                playerNameInput = document.getElementById("inputPlayerName").value;

                if (!playerNameInput.match(/^[A-Za-z\s]+$/)) {
                    showErrorMsg('errorPlayerName', 'Incorrect characters used for player name.');

                    event.preventDefault();
                } else {
                    document.cookie = `playerName=${playerNameInput};`;
                }
            }

            hideErrorMsgs();
        </script>
    </head>
    <body>
        <form name="PlayerNameForm" action="maximumNumber.asp" method="post" onsubmit="validateInput(event);" autocomplete="off">
            <div>
                Please enter your name:
                <input id="inputPlayerName" type="text" name="playerName"></td>
                <input type="submit" value="Submit">
                <p id="errorPlayerName" class="errorMsg" style="display: none;">Validation Message</p>
            </div>
        </form>
    </body>
</html>